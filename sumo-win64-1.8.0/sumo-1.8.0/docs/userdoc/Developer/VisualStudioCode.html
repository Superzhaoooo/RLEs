<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta property="og:image" content="../images/image-facebook.jpg">
        <meta property="og:image:type" content="image/jpeg">
        <meta property="og:image:width" content="1080">
        <meta property="og:image:height" content="1080">

        
        
        <link rel="canonical" href="https://sumo.dlr.de/docs/Developer/VisualStudioCode.html">
        <link rel="shortcut icon" href="../favicon.ico">
        
        <title>Developer/Visual Studio Code - SUMO Documentation</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="apple-touch-icon" href="../images/apple-touch-icon.png">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 

      <script>
        // DARK MODE
        function detectColorScheme(){
          var theme="light";

          if(localStorage.getItem("sumo-docs-theme")){
              if(localStorage.getItem("sumo-docs-theme") == "dark"){
                  var theme = "dark";
              }
          } else if(!window.matchMedia) {
              return false;
          } else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
              var theme = "dark";
          }

          if (theme=="dark") {
              document.documentElement.setAttribute("data-theme", "dark");
          }
        }
        detectColorScheme();
      </script>

    </head>

    <body>

        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary text-center">
            <div class="container-fluid">
                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../index.html" class="nav-link">Documentation</a>
                            </li>
                            <li class="navitem">
                                <a href="../Tutorials.html" class="nav-link">Tutorials</a>
                            </li>
                            <li class="navitem">
                                <a href="../FAQ.html" class="nav-link">FAQ</a>
                            </li>
                            <li class="navitem">
                                <a href="../Downloads.html" class="nav-link">Downloads</a>
                            </li>
                            <li class="navitem">
                                <a href="../Publications.html" class="nav-link">Publications</a>
                            </li>
                            <li class="navitem">
                                <a href="Main.html" class="nav-link">Developer</a>
                            </li>
                            <li class="navitem">
                                <a href="../ChangeLog.html" class="nav-link">ChangeLog</a>
                            </li>
                            <li class="navitem">
                                <a href="https://github.com/eclipse/sumo/commits/master/docs/web" class="nav-link">Recent Changes</a>
                            </li>
                            <li class="navitem">
                                <a href="https://eclipse.org/sumo/contact/" class="nav-link">Contact</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> <u>S</u>earch
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="edit" href="https://github.com/eclipse/sumo/edit/master/docs/web/docs/Developer/VisualStudioCode.md" class="nav-link"><i class="fa fa-github"></i> <u>E</u>dit on GitHub</a>
                            </li>
                      <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                            More <i class="fa fa-chevron-circle-down"></i>
                          </a>
                          <div class="dropdown-menu dropdown-menu-right">
                            <a class="dropdown-item no-arrow-link" href="https://github.com/eclipse/sumo/issues">Report a Bug / Issue / Typo</a>
                            <a class="dropdown-item" href="../Editing_Articles.html">Help on editing articles</a>
                            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#mkdocs_keyboard_modal">Keyboard Shortcuts</a>
                            <a class="dropdown-item no-arrow-link" href="https://sumo.dlr.de/sumo_documentation.zip">Download the Documentation</a>
                            <span class="dropdown-item" id="dark-mode-div">Dark mode <label id="theme-switch" class="theme-switch" for="checkbox_theme">
                              <input type="checkbox" id="checkbox_theme">
                          </label></span>
                          </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container-fluid">
          <div class="row">
                <div class="col-md-3">
                  <div class="text-center"><a href="../index.html" style="display: inline-block; margin-top: 5px;"><img src="../images/sumo-logo.png" class="sumoLogo" alt="SUMO Logo" width="120px"></a></div>
                  
<div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary toc-scroll toc">
        <ul class="nav flex-column bs-sidenav">
            <p style="margin-top:5px; color:#777777;" class="text-center">Contents</p>
            <li class="nav-item main"><a href="#installation">Installation</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#download" class="nav-link">• Download</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#plugins" class="nav-link">• Plugins</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#configuration" class="nav-link">• Configuration</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#working_with_the_sumo_repository" class="nav-link">• Working with the SUMO Repository</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#cmake_configuration" class="nav-link">&rarr; CMake Configuration</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#cmake_build" class="nav-link">&rarr; CMake Build</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#running_and_debugging" class="nav-link">&rarr; Running and Debugging</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#general_remarks" class="nav-link">• General Remarks</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#keyboard_shortcuts" class="nav-link">&rarr; Keyboard Shortcuts</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#general_documentation" class="nav-link">&rarr; General Documentation</a>
                </li>
        </ul>
    </div>

    <div class="admonition conference" style="position: sticky; margin-top: 20px; margin-bottom:10px;">
        <p>visit <a href="https://eclipse.org/sumo">eclipse.org/sumo</a></p>
        </div>

</div>
                  
                </div>
                <div class="col-md-9 main-area" role="main">
                  
                  <hTitles>Developer/Visual Studio Code<hr style="border: 0.5px solid #338033; margin-top: 5px !important;"></hTitles>
                  
                  

<p>Visual Studio Code is a lightweight integrated development environment. It can be used to develop in C/C++ (among other programming languages) on Windows, Linux and macOS. </p>
<p>In this document, we describe how Visual Studio Code can be installed and which plugins should be used to work with the SUMO code base.</p>
<h1 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">#</a></h1>
<h2 id="download">Download<a class="headerlink" href="#download" title="Permanent link">#</a></h2>
<p>The proprietary binaries for Visual Studio Code can be downloaded from <a href="https://code.visualstudio.com/">here</a>. There are also open source binaries which can be downloaded from <a href="https://vscodium.com">here</a> (MIT license).</p>
<h2 id="plugins">Plugins<a class="headerlink" href="#plugins" title="Permanent link">#</a></h2>
<p>The standard installation of Visual Studio Code does provide only basic support for source code editing in C/C++ and Python. For this purpose, Visual Studio Code can be extended with plugins to provide additional functionality. We recommend (at least) the following plugins:</p>
<ul>
<li><strong>C/C++</strong> from Microsoft to simplify code browsing, enable code completion and debugging</li>
<li><strong>CMake Tools</strong> from Microsoft to benefit from CMake build support </li>
<li><strong>Python</strong> by Microsoft to benefit from code browing, code completion and debugging in Python</li>
<li><strong>CMake</strong> by twxs to have support for the CMake specification language when editing <code>CMakeLists.txt</code> files</li>
</ul>
<p><img alt="Visual Studio Code Recommended Plugins" src="../images/VSCodePlugins.png" /></p>
<p>After you successfully installed these plugins, you will probably have to restart Visual Studio Code before they can be used.</p>
<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">#</a></h2>
<p>Before opening the SUMO code base in Visual Studio Code, you should make sure, that the <strong>CMake Tools</strong> Plugin is properly configured. A click on the cogwheel of the plugin allows you to open the extension settings window.</p>
<p><img alt="Visual Studio Code CMake Settings" src="../images/VSCodeSettings.png" /></p>
<p>Please note, that you can set these settings either for the <strong>user</strong> or for the current <strong>workspace</strong>, thus affecting all CMake projects in your workspace.</p>
<p>We would recommend to modify the following settings:</p>
<ul>
<li><strong>Cmake: Build Directory</strong>: set to your out of source build directory, e.g. <code>${workspaceFolder}/build/vscode</code></li>
<li><strong>Cmake: Parallel Jobs</strong>: if you have multiple CPUs or multiple CPU cores, set to a value of <code>2 * N</code>, whereas <code>N</code> denotes the number of cores on your machine, e.g. <code>2</code></li>
</ul>
<h2 id="working_with_the_sumo_repository">Working with the SUMO Repository<a class="headerlink" href="#working_with_the_sumo_repository" title="Permanent link">#</a></h2>
<p>You can now open the local SUMO git repository in Visual Studio Code with <code>File</code> -&gt; <code>Open ...</code> and point it to the directory of the repository. </p>
<h3 id="cmake_configuration">CMake Configuration<a class="headerlink" href="#cmake_configuration" title="Permanent link">#</a></h3>
<p>The CMake Tools plugin should automatically recognize the <code>CMakeLists.txt</code> file in the top-level SUMO directory and trigger a CMake configuration to find the compilers and available libraries. You can see the results of that process in the output window on the bottom.</p>
<p><img alt="Visual Studio Code CMake Configuration Output" src="../images/VSCodeCmakeConfig.png" /></p>
<p>You may have different C/C++ compilers installed on your machine. In CMake, these different compiler installations are referred to as compiler kits. The CMake Tools plugin allows you to switch between different compiler kits by opening the command palette (<code>Command+Shift+P</code> on macOS) and enter <code>CMake: Select a kit</code>. </p>
<p>SUMO provides certain features that may be enabled or disabled during compilation. CMake refers to these features as <strong>variants</strong>. These variants are defined in the <code>cmake-variants.yaml</code> file in the top-level directory of your SUMO repository. This file describes certain features or properties for the CMake configuration process. In Visual Studio Code, you can easily switch between different predefined variants by using the command palette and entering <code>CMake: Select Variant</code>. You should use this feature to quickly switch between a <code>release</code> and a <code>debug</code> build of SUMO. </p>
<h3 id="cmake_build">CMake Build<a class="headerlink" href="#cmake_build" title="Permanent link">#</a></h3>
<p>A build can be triggered either by using the command palette (<code>CMake: Build</code>) or by pressing <code>F7</code>. The build process for a specific target can be triggered with the command palette (<code>CMake: Build Target</code>) or by pressing <code>Shift+F7</code>. You can follow the build results in the output window in the lower half. </p>
<h3 id="running_and_debugging">Running and Debugging<a class="headerlink" href="#running_and_debugging" title="Permanent link">#</a></h3>
<p>One of the generated binaries either with or without a debugger can be started in the <code>Run</code> menu or by pressing <code>F5</code> or <code>Ctrl-F5</code>. In the next step, you will quickly notice, that Visual Studio Code requires the definition of run configurations. These are defined in the <code>.vscode/launch.json</code> configuration file. You can click on the <code>Add Configuration...</code> button on the bottom to add a new configuration for SUMO.</p>
<p>A simple configuration to launch <code>sumo</code> can be seen here:</p>
<pre><code>{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;Start SUMO &quot;,
            &quot;type&quot;: &quot;cppdbg&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;program&quot;: &quot;${workspaceFolder}/bin/sumo&quot;,
            &quot;args&quot;: [],
            &quot;stopAtEntry&quot;: false,
            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,
            &quot;environment&quot;: [],
            &quot;externalConsole&quot;: false,
            &quot;MIMode&quot;: &quot;lldb&quot;
        }
    ]
}
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you try to launch <code>sumo-gui</code> with a run configuration on macOS, the launch will fail because it cannot find the proper <code>DISPLAY</code> variable of the XQuartz server instance. A workaround seems to be to define a <code>preLaunchTask</code> in the configuration above which exports the <code>DISPLAY</code> variable for the debugging session. However, this needs more testing.</p>
</div>
<h2 id="general_remarks">General Remarks<a class="headerlink" href="#general_remarks" title="Permanent link">#</a></h2>
<h3 id="keyboard_shortcuts">Keyboard Shortcuts<a class="headerlink" href="#keyboard_shortcuts" title="Permanent link">#</a></h3>
<p>Visual Studio Code is designed to be primarily used with a keyboard, therefore it is a very good idea to start memorizing some of the most important shortcuts:</p>
<ul>
<li>Show all commands in the command palette: <code>Shift + Command + P</code></li>
<li>Go to file: <code>Command + P</code></li>
<li>Start Build: <code>F7</code></li>
<li>Start Debugging: <code>F5</code></li>
</ul>
<h3 id="general_documentation">General Documentation<a class="headerlink" href="#general_documentation" title="Permanent link">#</a></h3>
<p>General documentation to the usage of Visual Studio Code can be found on various places on the internet, e.g. <a href="https://www.youtube.com/watch?v=VqCgcpAypFQ">Visual Studio Code Tutorial for Beginners - Introduction</a> or <a href="https://www.youtube.com/watch?v=fnPhJHN0jTE">Visual Studio Code Intro &amp; Setup</a>.</p>
                </div>
          </div>
          <button onclick="goTopFunction()" id="goToTop" title="Go to top"><i class="fa fa-arrow-up"></i></button>
        </div>

        <footer class="col-md-12">
          
            <br><small><i>This page was last edited on: 05 September 2020</i></small>
          
          <hr>
            <p>Copyright &copy; 2001 - 2020 German Aerospace Center (DLR) and others.</p>
          <p>Follow us on <a class="no-arrow-link" href="https://www.twitter.com/eclipsesumo/"><i class="fa fa-twitter"></i></a> <a class="no-arrow-link" href="https://www.facebook.com/simulationofurbanmobility/"><i class="fa fa-facebook-square"></i></a> <a class="no-arrow-link" href="https://www.instagram.com/eclipse.sumo/"><i class="fa fa-instagram"></i></a>
          | Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a></p>
        </footer>

      <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body" style="color: #495057 !important;">
                <p>Enter your search terms:</p>
                <script async src="https://cse.google.com/cse.js?cx=004302551366764109984:1kpgtzrm6kv"></script>
                <div class="gcse-search"></div>
            </div>
            <div class="modal-footer" style="color: #495057 !important;">
                or search the sumo-user mailing list archive&nbsp;<a class="no-arrow-link" href="http://sumo-user.90755.n8.nabble.com/template/NamlServlet.jtp?macro=search_page&node=1&query=">here</a>
            </div>
        </div>
    </div>
</div>
      <script>
        window.onscroll = function() {scrollFunction()};
        
        function scrollFunction() {
          if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("goToTop").style.display = "block";
          } else {
            document.getElementById("goToTop").style.display = "none";
          }
        }
    
        function goTopFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }

        var base_url = "..",
            shortcuts = {"help": 191, "search": 83, "edit": 69};
        </script>
        <script src="../js/base.js" defer></script>

        <script>
          const toggleSwitch = document.querySelector('#theme-switch input[type="checkbox"]');
  
          function switchTheme(e) {
              if (e.target.checked) {
                  localStorage.setItem('sumo-docs-theme', 'dark');
                  document.documentElement.setAttribute('data-theme', 'dark');
                  toggleSwitch.checked = true;
              } else {
                  localStorage.setItem('sumo-docs-theme', 'light');
                  document.documentElement.setAttribute('data-theme', 'light');
                  toggleSwitch.checked = false;
              }    
          }
  
          toggleSwitch.addEventListener('change', switchTheme, false);
  
          if (document.documentElement.getAttribute("data-theme") == "dark"){
              toggleSwitch.checked = true;
          }
          </script>

      <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Key</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody style="color: #495057 !important;">
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help dialog</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search the Documentation</td>
                  </tr>
                  <tr>
                    <td class="edit shortcut"><kbd>e</kbd></td>
                    <td>Edit current page on GitHub</td>
                  </tr>
                </tbody>
              </table>
            </div>
        </div>
    </div>
</div>
    </body>
</html>
